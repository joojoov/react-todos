{"ast":null,"code":"import { createStore } from \"redux\";\n\nfunction reducer(state = {\n  data: [{\n    id: 0,\n    content: \"读书\",\n    done: false\n  }, {\n    id: 1,\n    content: \"写字\",\n    done: false\n  }]\n}, action) {\n  let nowData = [...state.data];\n\n  switch (action.type) {\n    case \"ADD\":\n      return {\n        data: [...nowData, {\n          id: Date.now(),\n          content: action.content,\n          done: false\n        }]\n      };\n\n    case \"DONE\":\n      nowData.forEach((item, index) => {\n        // 通过 id 确认该条数据\n        if (item.id === action.id) {\n          nowData[index] = { ...item,\n            done: action.done\n          };\n        }\n      }); // 记得 return\n\n      return {\n        data: nowData\n      };\n\n    case \"DELETE\":\n      console.log(action.id);\n      console.log(nowData);\n      nowData.filter(item => item.id !== action.id);\n      return {\n        data: nowData\n      };\n\n    case \"EDIT\":\n      nowData.forEach((item, index) => {\n        // 通过 id 确认该条数据\n        if (item.id === action.id) {\n          nowData[index] = { ...item,\n            content: action.content\n          };\n        }\n      });\n      return {\n        data: nowData\n      };\n  }\n\n  return state;\n}\n\nconst store = createStore(reducer);\nexport { store };","map":{"version":3,"sources":["F:/桌面/开课吧 web高级前端课程/1021 React-6/app/src/store/index.js"],"names":["createStore","reducer","state","data","id","content","done","action","nowData","type","Date","now","forEach","item","index","console","log","filter","store"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;;AAEA,SAASC,OAAT,CAAiBC,KAAK,GAAG;AACvBC,EAAAA,IAAI,EAAE,CACJ;AACEC,IAAAA,EAAE,EAAE,CADN;AAEEC,IAAAA,OAAO,EAAE,IAFX;AAGEC,IAAAA,IAAI,EAAE;AAHR,GADI,EAKD;AACDF,IAAAA,EAAE,EAAE,CADH;AAEDC,IAAAA,OAAO,EAAE,IAFR;AAGDC,IAAAA,IAAI,EAAE;AAHL,GALC;AADiB,CAAzB,EAYGC,MAZH,EAYW;AACT,MAAIC,OAAO,GAAG,CAAC,GAAGN,KAAK,CAACC,IAAV,CAAd;;AACA,UAAQI,MAAM,CAACE,IAAf;AACE,SAAK,KAAL;AACE,aAAO;AACLN,QAAAA,IAAI,EAAE,CAAC,GAAGK,OAAJ,EAAa;AACjBJ,UAAAA,EAAE,EAAEM,IAAI,CAACC,GAAL,EADa;AAEjBN,UAAAA,OAAO,EAAEE,MAAM,CAACF,OAFC;AAGjBC,UAAAA,IAAI,EAAE;AAHW,SAAb;AADD,OAAP;;AAQF,SAAK,MAAL;AACEE,MAAAA,OAAO,CAACI,OAAR,CAAgB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC/B;AACA,YAAID,IAAI,CAACT,EAAL,KAAYG,MAAM,CAACH,EAAvB,EAA2B;AACzBI,UAAAA,OAAO,CAACM,KAAD,CAAP,GAAiB,EACf,GAAGD,IADY;AAEfP,YAAAA,IAAI,EAAEC,MAAM,CAACD;AAFE,WAAjB;AAID;AACF,OARD,EADF,CAUE;;AACA,aAAO;AAAEH,QAAAA,IAAI,EAAEK;AAAR,OAAP;;AAEF,SAAK,QAAL;AACEO,MAAAA,OAAO,CAACC,GAAR,CAAYT,MAAM,CAACH,EAAnB;AACAW,MAAAA,OAAO,CAACC,GAAR,CAAYR,OAAZ;AACAA,MAAAA,OAAO,CAACS,MAAR,CAAeJ,IAAI,IAAIA,IAAI,CAACT,EAAL,KAAYG,MAAM,CAACH,EAA1C;AACA,aAAO;AACLD,QAAAA,IAAI,EAAEK;AADD,OAAP;;AAIF,SAAK,MAAL;AACEA,MAAAA,OAAO,CAACI,OAAR,CAAgB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC/B;AACA,YAAGD,IAAI,CAACT,EAAL,KAAYG,MAAM,CAACH,EAAtB,EAA0B;AACxBI,UAAAA,OAAO,CAACM,KAAD,CAAP,GAAiB,EACf,GAAGD,IADY;AAEfR,YAAAA,OAAO,EAAEE,MAAM,CAACF;AAFD,WAAjB;AAID;AACF,OARD;AASA,aAAO;AACLF,QAAAA,IAAI,EAAEK;AADD,OAAP;AAzCJ;;AA8CA,SAAON,KAAP;AACD;;AACD,MAAMgB,KAAK,GAAGlB,WAAW,CAACC,OAAD,CAAzB;AACA,SAASiB,KAAT","sourcesContent":["import { createStore } from \"redux\";\r\n\r\nfunction reducer(state = {\r\n  data: [\r\n    {\r\n      id: 0,\r\n      content: \"读书\",\r\n      done: false,\r\n    }, {\r\n      id: 1,\r\n      content: \"写字\",\r\n      done: false,\r\n    }\r\n  ]\r\n}, action) {\r\n  let nowData = [...state.data];\r\n  switch (action.type) {\r\n    case \"ADD\":\r\n      return {\r\n        data: [...nowData, {\r\n          id: Date.now(),\r\n          content: action.content,\r\n          done: false,\r\n        }]\r\n      }\r\n\r\n    case \"DONE\":\r\n      nowData.forEach((item, index) => {\r\n        // 通过 id 确认该条数据\r\n        if (item.id === action.id) {\r\n          nowData[index] = {\r\n            ...item,\r\n            done: action.done\r\n          }\r\n        }\r\n      })\r\n      // 记得 return\r\n      return { data: nowData };\r\n\r\n    case \"DELETE\":\r\n      console.log(action.id);\r\n      console.log(nowData);\r\n      nowData.filter(item => item.id !== action.id);\r\n      return {\r\n        data: nowData\r\n      }\r\n\r\n    case \"EDIT\":\r\n      nowData.forEach((item, index) => {\r\n        // 通过 id 确认该条数据\r\n        if(item.id === action.id) {\r\n          nowData[index] = {\r\n            ...item,\r\n            content: action.content\r\n          }\r\n        }\r\n      })\r\n      return {\r\n        data: nowData\r\n      }\r\n  }\r\n\r\n  return state;\r\n}\r\nconst store = createStore(reducer);\r\nexport { store };"]},"metadata":{},"sourceType":"module"}