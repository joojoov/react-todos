{"ast":null,"code":"import { createStore } from \"redux\";\n\nfunction reducer(state = {\n  data: [{\n    id: 0,\n    content: \"唱歌\",\n    done: false,\n    deleted: false\n  }, {\n    id: 1,\n    content: \"跳舞\",\n    done: false\n  }, {\n    id: 2,\n    content: \"Rap\",\n    done: false,\n    deleted: false\n  }, {\n    id: 3,\n    content: \"打篮球\",\n    done: false,\n    deleted: false\n  }]\n}, action) {\n  let nowData = [...state.data];\n\n  switch (action.type) {\n    case \"ADD\":\n      // 添加 todo\n      return {\n        data: [...nowData, {\n          id: Date.now(),\n          content: action.content,\n          done: false,\n          deleted: false\n        }]\n      };\n\n    case \"DONE\":\n      // 修改 todo 状态\n      nowData.forEach((item, index) => {\n        // 通过 id 确认该条数据\n        if (item.id === action.id) {\n          nowData[index] = { ...item,\n            done: action.done\n          };\n        }\n      }); // 记得 return\n\n      return {\n        data: nowData\n      };\n\n    case \"DELETE\":\n      // 修改为 deleted 状态\n      nowData.forEach((item, index) => {\n        // 通过 id 确认该条数据\n        if (item.id === action.id) {\n          nowData[index] = { ...item,\n            deleted: true\n          };\n        }\n      }); // 页面上删除->过滤展示点击删除的数据\n\n      nowData = nowData.filter(item => item.id !== action.id);\n      return {\n        data: nowData\n      };\n\n    case \"DELETEDONE\":\n      // 修改为 deleted 状态\n      nowData.forEach((item, index) => {\n        // 通过 id 确认该条数据\n        if (item.done === true) {\n          nowData[index] = { ...item,\n            deleted: true\n          };\n        }\n      }); // 页面上删除已完成\n\n      nowData = nowData.filter(item => !item.done);\n      return {\n        data: nowData\n      };\n\n    case \"EDIT\":\n      // 提交编辑\n      nowData.forEach((item, index) => {\n        // 通过 id 确认该条数据\n        if (item.id === action.id) {\n          nowData[index] = { ...item,\n            content: action.content\n          };\n        }\n      });\n      return {\n        data: nowData\n      };\n  }\n\n  return state;\n}\n\nconst store = createStore(reducer);\nexport { store };","map":{"version":3,"sources":["F:/桌面/开课吧 web高级前端课程/1021 React-6/app/src/store/index.js"],"names":["createStore","reducer","state","data","id","content","done","deleted","action","nowData","type","Date","now","forEach","item","index","filter","store"],"mappings":"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","sourcesContent":["import { createStore } from \"redux\";\r\n\r\nfunction reducer(state = {\r\n  data: [\r\n    {\r\n      id: 0,\r\n      content: \"唱歌\",\r\n      done: false,\r\n      deleted: false\r\n    },\r\n    {\r\n      id: 1,\r\n      content: \"跳舞\",\r\n      done: false,\r\n    },\r\n    {\r\n      id: 2,\r\n      content: \"Rap\",\r\n      done: false,\r\n      deleted: false\r\n    },\r\n    {\r\n      id: 3,\r\n      content: \"打篮球\",\r\n      done: false,\r\n      deleted: false\r\n    }\r\n  ]\r\n}, action) {\r\n  let nowData = [...state.data];\r\n  switch (action.type) {\r\n    case \"ADD\":\r\n      // 添加 todo\r\n      return {\r\n        data: [...nowData, {\r\n          id: Date.now(),\r\n          content: action.content,\r\n          done: false,\r\n          deleted: false\r\n        }]\r\n      }\r\n\r\n    case \"DONE\":\r\n      // 修改 todo 状态\r\n      nowData.forEach((item, index) => {\r\n        // 通过 id 确认该条数据\r\n        if (item.id === action.id) {\r\n          nowData[index] = {\r\n            ...item,\r\n            done: action.done\r\n          }\r\n        }\r\n      })\r\n      // 记得 return\r\n      return { data: nowData };\r\n\r\n    case \"DELETE\":\r\n      // 修改为 deleted 状态\r\n      nowData.forEach((item, index) => {\r\n        // 通过 id 确认该条数据\r\n        if (item.id === action.id) {\r\n          nowData[index] = {\r\n            ...item,\r\n            deleted: true\r\n          }\r\n        }\r\n      })\r\n      // 页面上删除->过滤展示点击删除的数据\r\n      nowData = nowData.filter(item => item.id !== action.id);\r\n      return {\r\n        data: nowData\r\n      }\r\n\r\n    case \"DELETEDONE\":\r\n      // 修改为 deleted 状态\r\n      nowData.forEach((item, index) => {\r\n        // 通过 id 确认该条数据\r\n        if (item.done === true) {\r\n          nowData[index] = {\r\n            ...item,\r\n            deleted: true\r\n          }\r\n        }\r\n      })\r\n      // 页面上删除已完成\r\n      nowData = nowData.filter(item => !item.done);\r\n      return {\r\n        data: nowData\r\n      }\r\n\r\n    case \"EDIT\":\r\n      // 提交编辑\r\n      nowData.forEach((item, index) => {\r\n        // 通过 id 确认该条数据\r\n        if (item.id === action.id) {\r\n          nowData[index] = {\r\n            ...item,\r\n            content: action.content\r\n          }\r\n        }\r\n      })\r\n      return {\r\n        data: nowData\r\n      }\r\n  }\r\n\r\n  return state;\r\n}\r\nconst store = createStore(reducer);\r\nexport { store };\r\n"]},"metadata":{},"sourceType":"module"}